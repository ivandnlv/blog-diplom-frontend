
<!DOCTYPE html>
<html lang="ru" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DevFlow Layout Concept</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #0f0f10; color: #e5e7eb; }
        .article-content p { margin-bottom: 1.5rem; line-height: 1.75; font-size: 1.125rem; }
        .nav-active { color: #fff; background: #27272a; }
        .view-section { display: none; }
        .view-section.active { display: block; }
    </style>
</head>
<body class="min-h-screen">

    <!-- Header -->
    <header class="sticky top-0 z-50 border-b border-zinc-800 bg-[#0f0f10]/80 backdrop-blur-md">
        <div class="max-w-[1200px] mx-auto px-4 h-16 flex items-center justify-between">
            <div class="flex items-center gap-8">
                <a href="#" onclick="showView('feed')" class="text-xl font-bold tracking-tighter flex items-center gap-2">
                    <div class="w-8 h-8 bg-indigo-600 rounded-lg flex items-center justify-center">DF</div>
                    DevFlow
                </a>
                <div class="relative hidden md:block">
                    <i data-lucide="search" class="absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-zinc-500"></i>
                    <input type="text" placeholder="Поиск" class="bg-zinc-900 border-none rounded-full py-1.5 pl-10 pr-4 w-64 text-sm focus:ring-2 focus:ring-indigo-500 outline-none">
                </div>
            </div>
            <div class="flex items-center gap-4">
                <button onclick="showView('admin')" class="p-2 text-zinc-400 hover:text-white transition-colors" title="Админка">
                    <i data-lucide="shield-check" class="w-6 h-6"></i>
                </button>
                <div class="flex items-center gap-3 pl-4 border-l border-zinc-800">
                    <div class="text-right hidden sm:block text-xs">
                        <div class="font-medium text-zinc-200">Admin User</div>
                        <div class="text-zinc-500">Редактор</div>
                    </div>
                    <div class="w-9 h-9 bg-zinc-800 rounded-full flex items-center justify-center text-sm font-bold border border-zinc-700">A</div>
                </div>
            </div>
        </div>
    </header>

    <main class="max-w-[1200px] mx-auto px-4 py-6 flex gap-8">
        <!-- Sidebar Navigation -->
        <aside class="w-64 hidden lg:flex flex-col gap-1 sticky top-24 h-fit">
            <button onclick="showView('feed')" class="nav-btn flex items-center gap-3 px-4 py-2.5 rounded-xl hover:bg-zinc-800 transition-colors text-zinc-400 hover:text-white">
                <i data-lucide="flame" class="w-5 h-5"></i> Популярное
            </button>
            <button class="nav-btn flex items-center gap-3 px-4 py-2.5 rounded-xl hover:bg-zinc-800 transition-colors text-zinc-400 hover:text-white">
                <i data-lucide="clock" class="w-5 h-5"></i> Свежее
            </button>
            <button class="nav-btn flex items-center gap-3 px-4 py-2.5 rounded-xl hover:bg-zinc-800 transition-colors text-zinc-400 hover:text-white">
                <i data-lucide="layout-grid" class="w-5 h-5"></i> Моя лента
            </button>
            <div class="my-4 border-t border-zinc-800"></div>
            <button class="flex items-center gap-3 px-4 py-2.5 rounded-xl hover:bg-zinc-800 transition-colors text-zinc-400 hover:text-white">
                <i data-lucide="bookmark" class="w-5 h-5"></i> Закладки
            </button>
            <button class="flex items-center gap-3 px-4 py-2.5 rounded-xl hover:bg-zinc-800 transition-colors text-zinc-400 hover:text-white">
                <i data-lucide="settings" class="w-5 h-5"></i> Настройки
            </button>
        </aside>

        <!-- Content Area -->
        <div class="flex-1 min-w-0">

            <!-- VIEW: FEED -->
            <section id="feed-view" class="view-section active space-y-4">
                <div class="flex gap-4 mb-6 overflow-x-auto pb-2 scrollbar-hide">
                    <span class="px-4 py-1.5 bg-zinc-800 rounded-full text-sm font-medium border border-zinc-700 whitespace-nowrap">Все темы</span>
                    <span class="px-4 py-1.5 text-zinc-500 text-sm hover:bg-zinc-800 rounded-full cursor-pointer transition-colors whitespace-nowrap">Разработка</span>
                    <span class="px-4 py-1.5 text-zinc-500 text-sm hover:bg-zinc-800 rounded-full cursor-pointer transition-colors whitespace-nowrap">Маркетинг</span>
                    <span class="px-4 py-1.5 text-zinc-500 text-sm hover:bg-zinc-800 rounded-full cursor-pointer transition-colors whitespace-nowrap">Карьера</span>
                </div>

                <!-- Post Card -->
                <article class="bg-zinc-900 border border-zinc-800/50 rounded-2xl overflow-hidden hover:border-zinc-700 transition-all cursor-pointer" onclick="showView('post')">
                    <div class="p-5">
                        <div class="flex items-center gap-2 text-xs text-zinc-500 mb-3">
                            <div class="w-5 h-5 bg-indigo-500 rounded-md"></div>
                            <span class="font-medium text-zinc-300">Сервисы</span>
                            <span>•</span>
                            <span>15 минут назад</span>
                        </div>
                        <h2 class="text-xl md:text-2xl font-bold mb-3 leading-snug hover:text-indigo-400 transition-colors">
                            Как мы внедрили AI в модерацию комментариев и сэкономили 40 часов в неделю
                        </h2>
                        <p class="text-zinc-400 line-clamp-3 mb-4">
                            В этой статье я расскажу о нашем опыте использования Gemini API для фильтрации спама и токсичности в блоге на NestJS. Мы прошли путь от ручной проверки до полной автоматизации...
                        </p>
                        <img src="https://images.unsplash.com/photo-1677442136019-21780ecad995?auto=format&fit=crop&q=80&w=1200" class="w-full aspect-[16/9] object-cover rounded-xl mb-4 border border-zinc-800" alt="post cover">
                    </div>
                    <div class="px-5 py-3 bg-zinc-900/50 border-t border-zinc-800 flex items-center justify-between text-zinc-500">
                        <div class="flex items-center gap-4">
                            <button class="flex items-center gap-1.5 hover:text-white transition-colors">
                                <i data-lucide="message-square" class="w-4 h-4"></i>
                                <span class="text-sm font-medium">42</span>
                            </button>
                            <button class="flex items-center gap-1.5 hover:text-red-400 transition-colors">
                                <i data-lucide="heart" class="w-4 h-4"></i>
                                <span class="text-sm font-medium">128</span>
                            </button>
                        </div>
                        <div class="flex items-center gap-3">
                            <span class="text-sm flex items-center gap-1"><i data-lucide="eye" class="w-4 h-4"></i> 2.4k</span>
                            <i data-lucide="bookmark" class="w-4 h-4 hover:text-white cursor-pointer"></i>
                        </div>
                    </div>
                </article>

                <!-- Post Card (Small text only) -->
                <article class="bg-zinc-900 border border-zinc-800/50 rounded-2xl p-5 hover:border-zinc-700 transition-all cursor-pointer" onclick="showView('post')">
                    <div class="flex items-center gap-2 text-xs text-zinc-500 mb-2">
                        <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Felix" class="w-5 h-5 rounded-full" alt="avatar">
                        <span class="font-medium text-zinc-300">Николай Панченко</span>
                        <span>•</span>
                        <span>Сегодня в 10:15</span>
                    </div>
                    <h2 class="text-lg font-bold mb-2">Обзор Nuxt UI v4: стоит ли обновляться прямо сейчас?</h2>
                    <div class="flex items-center gap-4 text-zinc-500 text-sm">
                        <span class="flex items-center gap-1"><i data-lucide="message-square" class="w-4 h-4"></i> 12</span>
                        <span class="flex items-center gap-1 text-green-500"><i data-lucide="arrow-big-up" class="w-4 h-4"></i> +24</span>
                    </div>
                </article>
            </section>

            <!-- VIEW: POST DETAIL -->
            <section id="post-view" class="view-section max-w-[700px] mx-auto">
                <button onclick="showView('feed')" class="flex items-center gap-2 text-zinc-500 hover:text-white mb-6 text-sm transition-colors">
                    <i data-lucide="arrow-left" class="w-4 h-4"></i> К ленте
                </button>

                <header class="mb-8">
                    <div class="flex items-center gap-3 mb-6">
                        <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Admin" class="w-10 h-10 rounded-full border border-zinc-700">
                        <div>
                            <div class="font-bold flex items-center gap-2">DevFlow Admin <span class="bg-indigo-600 text-[10px] px-1.5 py-0.5 rounded uppercase tracking-wider italic leading-none">PRO</span></div>
                            <div class="text-xs text-zinc-500">23 дек 2024 • 5 мин чтения</div>
                        </div>
                    </div>
                    <h1 class="text-3xl md:text-5xl font-extrabold leading-tight mb-6">Как мы внедрили AI в модерацию комментариев</h1>
                </header>

                <div class="article-content text-zinc-300">
                    <p>Привет, Хабр! Ой, то есть DevFlow. Сегодня поговорим о боли любого популярного ресурса — комментариях. Когда твой блог начинает расти, количество "токсиков" и спам-ботов увеличивается в геометрической прогрессии.</p>
                    <img src="https://images.unsplash.com/photo-1677442136019-21780ecad995?auto=format&fit=crop&q=80&w=1200" class="w-full rounded-2xl mb-8 border border-zinc-800" alt="inner img">
                    <p>Мы решили использовать <strong>NestJS</strong> на бэкенде и подключить к нему Gemini API. Логика простая: каждый входящий комментарий уходит в очередь, отправляется на оценку нейросети и, если порог токсичности превышен, падает в админку на ручную модерацию.</p>
                    <blockquote class="border-l-4 border-indigo-600 pl-6 py-2 my-8 italic text-xl text-zinc-200">
                        "Автоматизация — это не замена человека, а освобождение его от рутины."
                    </blockquote>
                    <p>В коде это выглядит примерно так...</p>
                    <div class="bg-zinc-950 rounded-xl p-4 border border-zinc-800 mb-8 font-mono text-sm overflow-x-auto">
                        <span class="text-indigo-400">@Post</span>(<span class="text-green-400">'comments'</span>)<br>
                        <span class="text-blue-400">async</span> <span class="text-yellow-400">createComment</span>(@Body() dto: CreateCommentDto) {<br>
                        &nbsp;&nbsp;<span class="text-blue-400">const</span> isSafe = <span class="text-blue-400">await</span> <span class="text-blue-400">this</span>.aiService.<span class="text-yellow-400">checkSafety</span>(dto.content);<br>
                        &nbsp;&nbsp;<span class="text-blue-400">return</span> <span class="text-blue-400">this</span>.commentService.<span class="text-yellow-400">create</span>({ ...dto, isApproved: isSafe });<br>
                        }
                    </div>
                </div>

                <!-- Post Footer Stats -->
                <div class="flex items-center justify-between py-6 border-y border-zinc-800 my-10">
                    <div class="flex items-center gap-6">
                        <div class="flex items-center gap-2 group cursor-pointer">
                            <div class="w-10 h-10 rounded-full bg-zinc-800 flex items-center justify-center group-hover:bg-red-500/20 group-hover:text-red-500 transition-colors">
                                <i data-lucide="heart" class="w-5 h-5"></i>
                            </div>
                            <span class="font-bold">128</span>
                        </div>
                        <div class="flex items-center gap-2 group cursor-pointer">
                            <div class="w-10 h-10 rounded-full bg-zinc-800 flex items-center justify-center group-hover:bg-indigo-500/20 group-hover:text-indigo-400 transition-colors text-zinc-400">
                                <i data-lucide="message-square" class="w-5 h-5"></i>
                            </div>
                            <span class="font-bold text-zinc-400">42</span>
                        </div>
                    </div>
                    <div class="flex gap-2">
                        <button class="p-2.5 rounded-full bg-zinc-800 hover:bg-zinc-700 transition-colors"><i data-lucide="share-2" class="w-5 h-5"></i></button>
                        <button class="p-2.5 rounded-full bg-zinc-800 hover:bg-zinc-700 transition-colors"><i data-lucide="bookmark" class="w-5 h-5"></i></button>
                    </div>
                </div>

                <!-- Comments Section -->
                <section class="pb-24">
                    <h3 class="text-xl font-bold mb-6">Комментарии 42</h3>

                    <div class="mb-8 flex gap-4">
                        <div class="w-9 h-9 bg-zinc-800 rounded-full flex-shrink-0"></div>
                        <div class="flex-1">
                            <textarea placeholder="Написать комментарий..." class="w-full bg-zinc-900 border border-zinc-800 rounded-xl p-4 min-h-[100px] outline-none focus:ring-2 focus:ring-indigo-500 transition-all"></textarea>
                            <div class="flex justify-end mt-2">
                                <button class="bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-2 rounded-full font-bold transition-colors">Отправить</button>
                            </div>
                        </div>
                    </div>

                    <!-- Single Comment -->
                    <div class="space-y-6">
                        <div class="flex gap-3">
                            <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=user1" class="w-9 h-9 rounded-full bg-zinc-800">
                            <div>
                                <div class="flex items-center gap-2 mb-1">
                                    <span class="font-bold text-sm">Иван Иванов</span>
                                    <span class="text-zinc-500 text-[11px]">2 часа назад</span>
                                </div>
                                <p class="text-sm text-zinc-300 mb-2">Отличная идея! А как нейронка справляется с иронией и сарказмом? Бывали ложноположительные срабатывания?</p>
                                <button class="text-xs font-bold text-zinc-500 hover:text-white transition-colors">Ответить</button>
                            </div>
                        </div>

                        <!-- Threaded Comment -->
                        <div class="flex gap-3 ml-12 border-l border-zinc-800 pl-4">
                            <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Admin" class="w-7 h-7 rounded-full bg-zinc-800">
                            <div>
                                <div class="flex items-center gap-2 mb-1">
                                    <span class="font-bold text-xs">Автор</span>
                                    <span class="text-zinc-500 text-[11px]">1 час назад</span>
                                </div>
                                <p class="text-sm text-zinc-300 mb-2 text-indigo-200">@Иван, да, сарказм — главная проблема. Пока решаем это добавлением контекста всей ветки в промпт.</p>
                                <button class="text-xs font-bold text-zinc-500 hover:text-white transition-colors">Ответить</button>
                            </div>
                        </div>
                    </div>
                </section>
            </section>

            <!-- VIEW: ADMIN MODERATION -->
            <section id="admin-view" class="view-section">
                <div class="flex items-center justify-between mb-8">
                    <div>
                        <h1 class="text-2xl font-bold">Модерация комментариев</h1>
                        <p class="text-sm text-zinc-500 italic">Подозрительные комментарии, помеченные AI</p>
                    </div>
                    <div class="flex gap-2">
                        <button class="px-4 py-2 bg-zinc-800 text-sm font-bold rounded-lg hover:bg-zinc-700">История</button>
                    </div>
                </div>

                <div class="bg-zinc-900 border border-zinc-800 rounded-2xl overflow-hidden">
                    <!-- Mod Table Row -->
                    <div class="p-5 border-b border-zinc-800 flex items-start gap-4">
                        <div class="w-10 h-10 rounded-full bg-red-500/10 flex items-center justify-center text-red-500 flex-shrink-0">
                            <i data-lucide="alert-circle" class="w-6 h-6"></i>
                        </div>
                        <div class="flex-1 min-w-0">
                            <div class="flex items-center gap-2 mb-1">
                                <span class="font-bold text-sm text-zinc-200">user_666</span>
                                <span class="text-zinc-500 text-xs">к статье "Обзор Nuxt UI v4"</span>
                                <span class="px-2 py-0.5 bg-red-500/20 text-red-400 text-[10px] font-bold rounded uppercase ml-auto">Токсичность 89%</span>
                            </div>
                            <p class="text-sm text-zinc-400 italic mb-3 bg-zinc-950 p-3 rounded-lg border border-zinc-800">
                                "Статья — полный отстой, автор вообще не понимает о чем пишет. Идите работайте на завод!"
                            </p>
                            <div class="flex gap-3">
                                <button class="flex items-center gap-1.5 px-3 py-1.5 bg-green-600/10 text-green-500 text-xs font-bold rounded-lg hover:bg-green-600/20 transition-all">
                                    <i data-lucide="check" class="w-3.5 h-3.5"></i> Опубликовать
                                </button>
                                <button class="flex items-center gap-1.5 px-3 py-1.5 bg-red-600/10 text-red-500 text-xs font-bold rounded-lg hover:bg-red-600/20 transition-all">
                                    <i data-lucide="trash-2" class="w-3.5 h-3.5"></i> Удалить
                                </button>
                                <button class="flex items-center gap-1.5 px-3 py-1.5 bg-zinc-800 text-zinc-400 text-xs font-bold rounded-lg hover:bg-zinc-700 transition-all ml-auto">
                                    В бан
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Mod Table Row 2 -->
                    <div class="p-5 border-b border-zinc-800 flex items-start gap-4">
                        <div class="w-10 h-10 rounded-full bg-yellow-500/10 flex items-center justify-center text-yellow-500 flex-shrink-0">
                            <i data-lucide="mail-warning" class="w-6 h-6"></i>
                        </div>
                        <div class="flex-1 min-w-0">
                            <div class="flex items-center gap-2 mb-1">
                                <span class="font-bold text-sm text-zinc-200">CryptoBot2024</span>
                                <span class="text-zinc-500 text-xs">к статье "AI модерация"</span>
                                <span class="px-2 py-0.5 bg-yellow-500/20 text-yellow-400 text-[10px] font-bold rounded uppercase ml-auto">Спам 74%</span>
                            </div>
                            <p class="text-sm text-zinc-400 italic mb-3 bg-zinc-950 p-3 rounded-lg border border-zinc-800">
                                "Ребята, зарабатываю по 500$ в день на крипте, заходите в мой ТГ канал @scam_crypto..."
                            </p>
                            <div class="flex gap-3">
                                <button class="flex items-center gap-1.5 px-3 py-1.5 bg-red-600/10 text-red-500 text-xs font-bold rounded-lg hover:bg-red-600/20 transition-all">
                                    <i data-lucide="trash-2" class="w-3.5 h-3.5"></i> Удалить спам
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- Right Sidebar (Widgets) -->
        <aside class="w-80 hidden xl:flex flex-col gap-6 sticky top-24 h-fit">
            <!-- Widget: Top Categories -->
            <div class="bg-zinc-900 border border-zinc-800 rounded-2xl p-5">
                <h3 class="font-bold mb-4 flex items-center gap-2">
                    <i data-lucide="trending-up" class="w-4 h-4 text-indigo-500"></i> Популярные темы
                </h3>
                <div class="space-y-3">
                    <div class="flex items-center justify-between group cursor-pointer">
                        <span class="text-sm text-zinc-400 group-hover:text-white transition-colors">#разработка</span>
                        <span class="text-xs text-zinc-600">1.2k</span>
                    </div>
                    <div class="flex items-center justify-between group cursor-pointer">
                        <span class="text-sm text-zinc-400 group-hover:text-white transition-colors">#ai_future</span>
                        <span class="text-xs text-zinc-600">840</span>
                    </div>
                    <div class="flex items-center justify-between group cursor-pointer">
                        <span class="text-sm text-zinc-400 group-hover:text-white transition-colors">#карьера</span>
                        <span class="text-xs text-zinc-600">650</span>
                    </div>
                </div>
                <button class="w-full mt-4 text-xs font-bold text-zinc-500 hover:text-white py-2 border-t border-zinc-800 transition-colors">Показать все</button>
            </div>

            <!-- Widget: Top Authors -->
            <div class="bg-zinc-900 border border-zinc-800 rounded-2xl p-5">
                <h3 class="font-bold mb-4 flex items-center gap-2">
                    <i data-lucide="award" class="w-4 h-4 text-yellow-500"></i> Рейтинг авторов
                </h3>
                <div class="space-y-4">
                    <div class="flex items-center gap-3">
                        <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Felix" class="w-8 h-8 rounded-full">
                        <div class="flex-1">
                            <div class="text-sm font-medium">Николай Панченко</div>
                            <div class="text-[10px] text-zinc-500">2540 кармы</div>
                        </div>
                        <button class="text-indigo-400 hover:text-indigo-300"><i data-lucide="user-plus" class="w-4 h-4"></i></button>
                    </div>
                    <div class="flex items-center gap-3">
                        <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Sasha" class="w-8 h-8 rounded-full">
                        <div class="flex-1">
                            <div class="text-sm font-medium">Саша Грей (код)</div>
                            <div class="text-[10px] text-zinc-500">1920 кармы</div>
                        </div>
                        <button class="text-indigo-400 hover:text-indigo-300"><i data-lucide="user-plus" class="w-4 h-4"></i></button>
                    </div>
                </div>
            </div>

            <!-- Footer Small Links -->
            <footer class="text-[11px] text-zinc-600 px-2 leading-relaxed">
                © 2024 DevFlow Blog. О проекте • Вакансии • Реклама • Техподдержка • Конфиденциальность
            </footer>
        </aside>
    </main>

    <!-- Floating Action Button -->
    <button class="fixed bottom-8 right-8 w-14 h-14 bg-indigo-600 text-white rounded-full shadow-2xl shadow-indigo-600/40 flex items-center justify-center hover:bg-indigo-700 transition-all hover:scale-110 active:scale-95 z-40">
        <i data-lucide="plus" class="w-8 h-8"></i>
    </button>

    <script>
      lucide.createIcons();
    </script>
</body>
</html>
